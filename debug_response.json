{"files":[{"name":"app.py","content":"from flask import Flask, request, render_template\nimport requests\nfrom PIL import Image\nimport pytesseract\nfrom io import BytesIO\nimport os\n\napp = Flask(__name__)\n\n# Configure Tesseract path if it's not in your system's PATH.\n# For Windows, uncomment and update the path below:\n# pytesseract.pytesseract.tesseract_cmd = r'C:\\\\Program Files\\\\Tesseract-OCR\\\\tesseract.exe'\n# For Linux/macOS, Tesseract is usually in PATH if installed via package manager.\n\n@app.route('/')\ndef solve_captcha():\n    captcha_url = request.args.get('url')\n\n    # Default to a simple image if no URL is provided, as per \"attached sample\" instruction.\n    if not captcha_url:\n        captcha_url = \"https://dummyimage.com/200x50/000/fff&text=DEFAULT_CAPTCHA\"\n\n    solved_text = \"N/A\"\n    error_message = None\n\n    try:\n        # Download the image with a timeout\n        response = requests.get(captcha_url, timeout=10) # 10 seconds for download\n        response.raise_for_status() # Raise an exception for bad status codes\n\n        # Open the image using Pillow\n        img = Image.open(BytesIO(response.content))\n\n        # Perform OCR\n        solved_text = pytesseract.image_to_string(img)\n        # Clean up the solved text (remove leading/trailing whitespace, newlines)\n        solved_text = solved_text.strip()\n        if not solved_text:\n            solved_text = \"No text found or recognized.\"\n\n    except requests.exceptions.Timeout:\n        error_message = \"Request timed out while downloading the image.\"\n    except requests.exceptions.RequestException as e:\n        error_message = f\"Error downloading image: {e}\"\n    except Image.UnidentifiedImageError:\n        error_message = \"Could not identify image file. Invalid image URL or format.\"\n    except pytesseract.TesseractNotFoundError:\n        error_message = \"Tesseract OCR engine not found. Please install it and ensure it's in your system's PATH.\\nRefer to README.md for installation instructions.\"\n    except Exception as e:\n        error_message = f\"An unexpected error occurred: {e}\"\n\n    return render_template('index.html', \n                           image_url=captcha_url, \n                           solved_text=solved_text, \n                           error=error_message)\n\nif __name__ == '__main__':\n    # Run Flask app on all interfaces with debug mode enabled\n    # For production, set debug=False and use a production WSGI server (e.g., Gunicorn, uWSGI).\n    app.run(debug=True, host='0.0.0.0', port=5000)\n"},{"name":"templates/index.html","content":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Captcha Solver</title>\n    <style>\n        body { font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"; margin: 2em; background-color: #f4f4f4; color: #333; line-height: 1.6; }\n        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 2.5em; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }\n        h1 { color: #0056b3; text-align: center; margin-bottom: 1.5em; }\n        h2 { color: #0056b3; border-bottom: 1px solid #eee; padding-bottom: 0.5em; margin-top: 2em; }\n        .captcha-image { margin: 1.5em 0; border: 1px solid #ddd; padding: 15px; background-color: #f9f9f9; text-align: center; border-radius: 6px; }\n        .captcha-image img { max-width: 100%; height: auto; border: 1px solid #eee; display: inline-block; vertical-align: middle; margin-bottom: 10px; }\n        .captcha-image p { font-size: 0.9em; color: #666; margin: 0; }\n        .captcha-image code { background-color: #e9e9e9; padding: 3px 6px; border-radius: 4px; font-family: monospace; }\n        .result { margin-top: 1.5em; padding: 1.2em; background-color: #e9f7ef; border: 1px solid #d4edda; border-radius: 6px; }\n        .result strong { color: #28a745; font-size: 1.1em; }\n        .result span { font-family: monospace; background-color: #e0ffe0; padding: 2px 5px; border-radius: 3px; }\n        .error { margin-top: 1.5em; padding: 1.2em; background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 6px; color: #721c24; }\n        .error strong { font-size: 1.1em; }\n        .info { margin-top: 1em; font-size: 0.95em; color: #555; background-color: #eef7ff; border: 1px solid #cce5ff; padding: 1em; border-radius: 6px; }\n        .info a { color: #007bff; text-decoration: none; }\n        .info a:hover { text-decoration: underline; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>üåê Captcha Solver</h1>\n\n        <div class=\"info\">\n            <strong>How to Use:</strong> To solve a captcha, append <code>?url=</code> followed by the full URL of the image to this page's address.<br>\n            Example: <a href=\"?url=https://dummyimage.com/200x50/000/fff&text=SolveMe123\"><code>?url=https://dummyimage.com/200x50/000/fff&text=SolveMe123</code></a><br>\n            If no URL is provided, a default sample captcha will be used.\n        </div>\n\n        <h2>Provided Captcha Image</h2>\n        <div class=\"captcha-image\">\n            {% if image_url %}\n                <img src=\"{{ image_url }}\" alt=\"Captcha Image\">\n                <p>URL: <code>{{ image_url }}</code></p>\n            {% else %}\n                <p>No captcha image URL provided. Displaying default behavior.</p>\n            {% endif %}\n        </div>\n\n        <h2>Solved Captcha Text</h2>\n        {% if error %}\n            <div class=\"error\">\n                <strong>Error:</strong> {{ error }}\n            </div>\n        {% else %}\n            <div class=\"result\">\n                <strong>Text:</strong> <span>{{ solved_text }}</span>\n            </div>\n        {% endif %}\n    </div>\n</body>\n</html>\n"}],"readme":{"name":"README.md","content":"# Captcha Solver Application\n\nThis application provides a simple web interface to solve image-based captchas using the Tesseract OCR engine. You can pass the URL of a captcha image as a query parameter, and the application will display the image and its recognized text.\n\n## Features\n\n*   Solves captchas from a provided image URL.\n*   Displays the captcha image and the extracted text.\n*   Defaults to a sample captcha if no URL is provided.\n*   Designed for simplicity and quick deployment, aiming to solve within 15 seconds.\n\n## Requirements\n\nTo run this application, you need:\n\n1.  **Python 3.x**\n2.  **Tesseract OCR Engine**: This is a crucial dependency. You must install Tesseract on your system and ensure it's accessible in your system's PATH. Without it, the application will not be able to perform OCR.\n    *   **Windows**: Download and install from [https://tesseract-ocr.github.io/tessdoc/Downloads.html](https://tesseract-ocr.github.io/tessdoc/Downloads.html). During installation, ensure \"Add to PATH\" is selected, or manually add its installation directory (e.g., `C:\\Program Files\\Tesseract-OCR`) to your system's PATH. If Tesseract is not found, you might need to explicitly set `pytesseract.pytesseract.tesseract_cmd` in `app.py`.\n    *   **macOS**: Install via Homebrew: `brew install tesseract`\n    *   **Linux (Debian/Ubuntu)**: `sudo apt-get update && sudo apt-get install tesseract-ocr`\n    *   **Linux (Fedora)**: `sudo dnf install tesseract`\n3.  **Python Libraries**: Install these using pip.\n    *   `Flask`\n    *   `Pillow` (PIL)\n    *   `pytesseract`\n    *   `requests`\n\n## Installation and Setup\n\n1.  **Save the files**: Create a directory (e.g., `captcha_solver`). Place `app.py` directly inside it. Create another subdirectory named `templates` inside `captcha_solver`, and place `index.html` within this `templates` directory.\n\n    ```\n    captcha_solver/\n    ‚îú‚îÄ‚îÄ app.py\n    ‚îî‚îÄ‚îÄ templates/\n        ‚îî‚îÄ‚îÄ index.html\n    ```\n\n2.  **Install Tesseract OCR Engine** (as described in the Requirements section above).\n\n3.  **Install Python dependencies**: Navigate to the `captcha_solver` directory in your terminal and run:\n    ```bash\n    pip install Flask Pillow pytesseract requests\n    ```\n\n## Usage\n\n1.  **Run the Flask application**: From the `captcha_solver` directory, execute:\n    ```bash\n    python app.py\n    ```\n    The application will typically run on `http://0.0.0.0:5000/` or `http://127.0.0.1:5000/`.\n\n2.  **Access the solver**: \n    *   Open your web browser and go to `http://127.0.0.1:5000/`. This will display a default sample captcha and its solution.\n    *   To solve a specific captcha, append the `?url=` parameter with the URL of your captcha image:\n        `http://127.0.0.1:5000/?url=https://example.com/path/to/your/image.png`\n\n    **Example with a simple dummy image:**\n    `http://127.0.0.1:5000/?url=https://dummyimage.com/200x50/000/fff&text=HelloCaptcha`\n\nThe page will display the provided captcha image and the text extracted by the OCR engine. The entire process (download, OCR, display) is designed to complete within 15 seconds for reasonable image sizes and server conditions.\n\n## License\n\nThis project is licensed under the MIT License.\n\n```\nMIT License\n\nCopyright (c) 2023 Your Name or Project Name\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n